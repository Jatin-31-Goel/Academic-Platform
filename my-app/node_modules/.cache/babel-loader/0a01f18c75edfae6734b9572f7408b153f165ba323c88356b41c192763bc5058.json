{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Attachments\\\\Desktop\\\\AcademicPlatform\\\\my-app\\\\src\\\\Components\\\\Login.js\",\n  _s = $RefreshSig$();\n// Optimized Login.js with Improved Error Handling & UX Enhancements\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { TextField, Button, Container, Typography, Paper, CircularProgress } from \"@mui/material\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    if (!username || !password) {\n      setError(\"Please enter both username and password.\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5000/login\", {\n        username,\n        password\n      });\n      localStorage.setItem(\"token\", response.data.access_token);\n      navigate(\"/home\");\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Invalid credentials. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: \"auth-card\",\n      elevation: 6,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Username\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Password\",\n        type: \"password\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        onClick: handleLogin,\n        className: \"auth-button\",\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 22\n        }, this) : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"text\",\n        fullWidth: true,\n        onClick: () => navigate(\"/signup\"),\n        className: \"switch-auth\",\n        children: \"Don't have an account? Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"/rDwB1Fi6lu1XkgBaxiJuy3TFKo=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","axios","TextField","Button","Container","Typography","Paper","CircularProgress","jsxDEV","_jsxDEV","Login","_s","username","setUsername","password","setPassword","loading","setLoading","error","setError","navigate","handleLogin","response","post","localStorage","setItem","data","access_token","_error$response","_error$response$data","message","maxWidth","className","children","elevation","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","label","fullWidth","margin","value","onChange","e","target","type","onClick","disabled","size","_c","$RefreshReg$"],"sources":["C:/Users/Hp/OneDrive/Attachments/Desktop/AcademicPlatform/my-app/src/Components/Login.js"],"sourcesContent":["// Optimized Login.js with Improved Error Handling & UX Enhancements\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { TextField, Button, Container, Typography, Paper, CircularProgress } from \"@mui/material\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async () => {\r\n    if (!username || !password) {\r\n      setError(\"Please enter both username and password.\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const response = await axios.post(\"http://127.0.0.1:5000/login\", { username, password });\r\n      localStorage.setItem(\"token\", response.data.access_token);\r\n      navigate(\"/home\");\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || \"Invalid credentials. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" className=\"auth-container\">\r\n      <Paper className=\"auth-card\" elevation={6}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Login\r\n        </Typography>\r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n        <TextField\r\n          label=\"Username\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          onClick={handleLogin}\r\n          className=\"auth-button\"\r\n          disabled={loading}\r\n        >\r\n          {loading ? <CircularProgress size={24} /> : \"Login\"}\r\n        </Button>\r\n        <Button\r\n          variant=\"text\"\r\n          fullWidth\r\n          onClick={() => navigate(\"/signup\")}\r\n          className=\"switch-auth\"\r\n        >\r\n          Don't have an account? Sign Up\r\n        </Button>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}